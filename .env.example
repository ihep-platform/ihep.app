# Environment Variables Template for IHEP Next.js Application
# ==============================================================
# Copy this file to .env.local for local development:
#   cp .env.example .env.local
#
# Or use the automated script:
#   bash scripts/generate-secrets.sh
#
# IMPORTANT: Never commit .env.local to version control!
# ==============================================================

# Application Environment
# -----------------------
NODE_ENV=development

# Next.js Configuration
# ---------------------
# Public URL for your application (used for redirects, OAuth callbacks, etc.)
NEXT_PUBLIC_APP_URL=http://localhost:5000
NEXTAUTH_URL=http://localhost:5000

# NextAuth.js Secret (REQUIRED)
# Generate a new secret with: openssl rand -base64 32
# Or run: bash scripts/generate-secrets.sh
NEXTAUTH_SECRET="N+aRfo7PfWjhy/BkovWOHCBjVqYlCL/I/r4JtIrKUFA="

# Database Configuration (REQUIRED)
# ----------------------------------
# For local Docker development:
#   DATABASE_URL=postgresql://ihep:ihep_dev_password@localhost:5432/ihep_db
#   DIRECT_URL=postgresql://ihep:ihep_dev_password@localhost:5432/ihep_db
#
# For production (Cloud SQL, Supabase, etc.):
#   Use connection pooler URL for DATABASE_URL
#   Use direct connection URL for DIRECT_URL (for migrations)
DATABASE_URL=postgresql://user:password@host:port/database
DIRECT_URL=postgresql://user:password@host:port/database

# Database Pool Configuration
DB_POOL_SIZE=10

# OAuth Authentication Providers (Optional)
# ------------------------------------------
# Google OAuth
# GOOGLE_CLIENT_ID=your-google-client-id
# GOOGLE_CLIENT_SECRET=your-google-client-secret

# GitHub OAuth
# GITHUB_CLIENT_ID=your-github-client-id
# GITHUB_CLIENT_SECRET=your-github-client-secret

# Application Port
# ----------------
# Cloud Run automatically sets PORT, but you can override for local testing
PORT=5000

# Monitoring & Logging (Optional)
# --------------------------------
# Sentry for error tracking
# SENTRY_DSN=your-sentry-dsn
# SENTRY_ENVIRONMENT=development

# Log level (debug, info, warn, error)
# LOG_LEVEL=info

# Feature Flags (Optional)
# ------------------------
# ENABLE_DIGITAL_TWIN_3D=true
# ENABLE_EXPERIMENTAL_FEATURES=false

# External Services (Optional)
# ----------------------------
# Twilio for SMS/notifications
# TWILIO_ACCOUNT_SID=your-account-sid
# TWILIO_AUTH_TOKEN=your-auth-token
# TWILIO_PHONE_NUMBER=your-phone-number

# SendGrid for email
# SENDGRID_API_KEY=your-api-key
# EMAIL_FROM=noreply@ihep.app

# Google Cloud Platform
# PROJECT_ID=your-gcp-project-id
# GCP_REGION=us-central1

# EHR Integration (Mirth Connect + Partner Credentials)
# -------------------------------------------------------
# Mirth Connect Database
# MIRTH_DB_USER=mirth
# MIRTH_DB_PASSWORD=your-mirth-db-password
# MIRTH_KEYSTORE_PASSWORD=changeit

# Epic (SMART on FHIR / App Orchard)
# EPIC_CLIENT_ID=your-epic-client-id
# EPIC_CLIENT_SECRET=your-epic-client-secret

# Cerner / Oracle Health
# CERNER_CLIENT_ID=your-cerner-client-id
# CERNER_CLIENT_SECRET=your-cerner-client-secret

# Allscripts
# ALLSCRIPTS_API_KEY=your-allscripts-api-key

# athenahealth
# ATHENA_CLIENT_ID=your-athena-client-id
# ATHENA_CLIENT_SECRET=your-athena-client-secret
# ATHENA_PRACTICE_ID=your-practice-id

# ==============================================================
# Production Deployment Notes:
# - Use GCP Secret Manager for sensitive values
# - Enable SSL/TLS for database connections
# - Use connection pooling for DATABASE_URL
# - Set strong, unique secrets for NEXTAUTH_SECRET
# - See PRODUCTION_CHECKLIST.md for full requirements
# ==============================================================
